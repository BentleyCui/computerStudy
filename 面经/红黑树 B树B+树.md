### 平衡二叉树

每个节点的左子树和右子树的高度差至多等于1

通过 **左旋**、**右旋**保持平衡性

通过平衡二叉树，解决了二叉查找树的缺点



### 红黑树

虽然平衡二叉树解决了二叉树退化为链表的缺点，不过却不是最佳的，因为平衡二叉树要求**每个节点的左子树和右子树的高度差至多等于1**，这个要求实在太严格，导致每次进行插入和删除节点的时候，几乎都会破坏平衡性，进而需要我们通过左旋和右旋进行调整。

**如果在插入、删除很频繁的场景中，平衡树需要频繁调整，这会使得性能大打折扣**

平衡的二叉查找树的特点：

具有二叉查找树的特点

1. 节点是红色或者黑色
2. 根节点是黑色
3. 每个叶子结点都是黑色空节点（NULL节点）
4. 每个红色节点的两个子节点都是黑色（从根节点到叶子结点的路径上不能有两个连续的红色节点）
5. 从任一节点到其每个叶子的节点的所有路径都包含相同数目的黑色节点

#### 插入节点

新插入的节点是红色的

父节点如果是黑色，不需要调整

父节点如果是红色，需要调整：

**左旋：**逆时针旋转两个节点，父节点被自己的右孩子取代，自己成为左孩子

**右旋：**顺时针旋转，父节点被自己的左孩子取代，父节点成为右孩子



### 平衡二叉树与红黑树的区别：

红黑树是不严格的平衡二叉树，红黑树节点的左右子树高度差可能超过1，但只要符合红黑树的五个条件即可；

平衡二叉树值只要不平衡就会旋转，而红黑树不符合规则时，有些情况只用改变颜色不用旋转就能达到平衡



### B树

**平衡多路查找树**

一颗M阶的B树，满足：

1. 每个节点的子节点至多有M个
2. 除根节点外，每个非叶子结点具有至少 M/2 个子节点
3. 非叶子结点的根节点至少有两个子节点
4. 节点中的关键字按照递增顺序排列
5. 所有叶子结点都在同一层

**B树的出现主要为了解决二叉查找树由于树的深度过大而导致频繁的磁盘I/O，进而影响查询效率**

插入数据可能会引起节点分裂



### B+树

B+树的非叶子结点只包含索引，完整的数据包含在叶子结点中

**B+树的磁盘读写代价更低**：B+树每个节点存储的索引更多，一次读入内存查找的关键字也就更多，I/O读写次数降低

**B+树查询效率更加稳定：**所有关键字的查找路径长度一样

**B+树支持范围查找：**B树需要中序遍历，而B+树的叶子节点由链表连接

